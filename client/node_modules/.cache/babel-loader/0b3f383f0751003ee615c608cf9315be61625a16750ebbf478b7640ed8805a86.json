{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { auth, db } from \"../Auth/firebase\";\nconst UserProfile = () => {\n  _s();\n  const [userData, setUserData] = useState(null);\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged(user => {\n      if (user) {\n        const userRef = db.collection(\"users\").doc(user.uid);\n        userRef.get().then(doc => {\n          if (doc.exists) {\n            setUserData(doc.data());\n          }\n        });\n      } else {\n        setUserData(null);\n      }\n    });\n    return () => unsubscribe();\n  }, []);\n  return {\n    userData\n  };\n};\n_s(UserProfile, \"Q/bN2hINckB+VINYSZfns3MkAk8=\");\n_c = UserProfile;\nexport default UserProfile;\nvar _c;\n$RefreshReg$(_c, \"UserProfile\");","map":{"version":3,"names":["React","useEffect","useState","auth","db","UserProfile","_s","userData","setUserData","unsubscribe","onAuthStateChanged","user","userRef","collection","doc","uid","get","then","exists","data","_c","$RefreshReg$"],"sources":["C:/Users/Asus/OneDrive/เอกสาร/GitHub/ABGS-Website-project/src/Database/Profiledb.js"],"sourcesContent":["import React ,{useEffect , useState}from \"react\"\r\nimport { auth,db } from \"../Auth/firebase\";\r\n\r\n\r\nconst UserProfile = () => {\r\n    const [userData, setUserData] = useState(null);\r\n  \r\n    useEffect(() => {\r\n      const unsubscribe = auth.onAuthStateChanged((user) => {\r\n        if (user) {\r\n          const userRef = db.collection(\"users\").doc(user.uid);\r\n          userRef.get().then((doc) => {\r\n            if (doc.exists) {\r\n              setUserData(doc.data());\r\n            }\r\n          });\r\n        } else {\r\n          setUserData(null);\r\n        }\r\n      });\r\n  \r\n      return () => unsubscribe();\r\n    }, []);\r\n  \r\n    return { userData};\r\n  };\r\n  \r\n  export default UserProfile;"],"mappings":";AAAA,OAAOA,KAAK,IAAGC,SAAS,EAAGC,QAAQ,QAAM,OAAO;AAChD,SAASC,IAAI,EAACC,EAAE,QAAQ,kBAAkB;AAG1C,MAAMC,WAAW,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACtB,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGN,QAAQ,CAAC,IAAI,CAAC;EAE9CD,SAAS,CAAC,MAAM;IACd,MAAMQ,WAAW,GAAGN,IAAI,CAACO,kBAAkB,CAAEC,IAAI,IAAK;MACpD,IAAIA,IAAI,EAAE;QACR,MAAMC,OAAO,GAAGR,EAAE,CAACS,UAAU,CAAC,OAAO,CAAC,CAACC,GAAG,CAACH,IAAI,CAACI,GAAG,CAAC;QACpDH,OAAO,CAACI,GAAG,CAAC,CAAC,CAACC,IAAI,CAAEH,GAAG,IAAK;UAC1B,IAAIA,GAAG,CAACI,MAAM,EAAE;YACdV,WAAW,CAACM,GAAG,CAACK,IAAI,CAAC,CAAC,CAAC;UACzB;QACF,CAAC,CAAC;MACJ,CAAC,MAAM;QACLX,WAAW,CAAC,IAAI,CAAC;MACnB;IACF,CAAC,CAAC;IAEF,OAAO,MAAMC,WAAW,CAAC,CAAC;EAC5B,CAAC,EAAE,EAAE,CAAC;EAEN,OAAO;IAAEF;EAAQ,CAAC;AACpB,CAAC;AAACD,EAAA,CArBED,WAAW;AAAAe,EAAA,GAAXf,WAAW;AAuBf,eAAeA,WAAW;AAAC,IAAAe,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}