{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { auth, db } from \"../Auth/firebase\";\nconst UserProfile = () => {\n  _s();\n  const [userData, setUserData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged(user => {\n      if (user) {\n        const userRef = db.collection(\"users\").doc(user.uid);\n        userRef.get().then(doc => {\n          if (doc.exists) {\n            setUserData(doc.data());\n          }\n          setLoading(false);\n        });\n      } else {\n        setUserData(null);\n        setLoading(false);\n      }\n    });\n    return () => unsubscribe();\n  }, []);\n  return {\n    userData,\n    loading\n  };\n};\n_s(UserProfile, \"vhv7d1oa6lqjcjPHNBz2j0Rabdw=\");\n_c = UserProfile;\nexport default useUserProfile;\nvar _c;\n$RefreshReg$(_c, \"UserProfile\");","map":{"version":3,"names":["React","useEffect","useState","auth","db","UserProfile","_s","userData","setUserData","loading","setLoading","unsubscribe","onAuthStateChanged","user","userRef","collection","doc","uid","get","then","exists","data","_c","useUserProfile","$RefreshReg$"],"sources":["C:/Users/Asus/OneDrive/เอกสาร/GitHub/ABGS-Website-project/src/Database/Profiledb.js"],"sourcesContent":["import React ,{useEffect , useState}from \"react\"\r\nimport { auth,db } from \"../Auth/firebase\";\r\n\r\nconst UserProfile = () => {\r\n    const [userData, setUserData] = useState(null);\r\n    const [loading, setLoading] = useState(true);\r\n  \r\n    useEffect(() => {\r\n      const unsubscribe = auth.onAuthStateChanged((user) => {\r\n        if (user) {\r\n          const userRef = db.collection(\"users\").doc(user.uid);\r\n          userRef.get().then((doc) => {\r\n            if (doc.exists) {\r\n              setUserData(doc.data());\r\n            }\r\n            setLoading(false);\r\n          });\r\n        } else {\r\n          setUserData(null);\r\n          setLoading(false);\r\n        }\r\n      });\r\n  \r\n      return () => unsubscribe();\r\n    }, []);\r\n  \r\n    return { userData, loading };\r\n  };\r\n  \r\n  export default useUserProfile;"],"mappings":";AAAA,OAAOA,KAAK,IAAGC,SAAS,EAAGC,QAAQ,QAAM,OAAO;AAChD,SAASC,IAAI,EAACC,EAAE,QAAQ,kBAAkB;AAE1C,MAAMC,WAAW,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACtB,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGN,QAAQ,CAAC,IAAI,CAAC;EAC9C,MAAM,CAACO,OAAO,EAAEC,UAAU,CAAC,GAAGR,QAAQ,CAAC,IAAI,CAAC;EAE5CD,SAAS,CAAC,MAAM;IACd,MAAMU,WAAW,GAAGR,IAAI,CAACS,kBAAkB,CAAEC,IAAI,IAAK;MACpD,IAAIA,IAAI,EAAE;QACR,MAAMC,OAAO,GAAGV,EAAE,CAACW,UAAU,CAAC,OAAO,CAAC,CAACC,GAAG,CAACH,IAAI,CAACI,GAAG,CAAC;QACpDH,OAAO,CAACI,GAAG,CAAC,CAAC,CAACC,IAAI,CAAEH,GAAG,IAAK;UAC1B,IAAIA,GAAG,CAACI,MAAM,EAAE;YACdZ,WAAW,CAACQ,GAAG,CAACK,IAAI,CAAC,CAAC,CAAC;UACzB;UACAX,UAAU,CAAC,KAAK,CAAC;QACnB,CAAC,CAAC;MACJ,CAAC,MAAM;QACLF,WAAW,CAAC,IAAI,CAAC;QACjBE,UAAU,CAAC,KAAK,CAAC;MACnB;IACF,CAAC,CAAC;IAEF,OAAO,MAAMC,WAAW,CAAC,CAAC;EAC5B,CAAC,EAAE,EAAE,CAAC;EAEN,OAAO;IAAEJ,QAAQ;IAAEE;EAAQ,CAAC;AAC9B,CAAC;AAACH,EAAA,CAxBED,WAAW;AAAAiB,EAAA,GAAXjB,WAAW;AA0Bf,eAAekB,cAAc;AAAC,IAAAD,EAAA;AAAAE,YAAA,CAAAF,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}