{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { auth, db } from \"../Auth/firebase\";\nimport { doc, getDoc } from \"firebase/firestore\";\nconst UserProfile = () => {\n  _s();\n  const [userData, setUserData] = useState(null);\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged(async user => {\n      if (user) {\n        try {\n          const userRef = doc(db, \"users\", user.uid);\n          const docSnap = await getDoc(userRef);\n          if (docSnap.exists()) {\n            setUserData(docSnap.data());\n          } else {\n            console.log(\"No such document!\");\n          }\n        } catch (error) {\n          console.error(\"Error fetching user data: \", error);\n        } finally {\n          setLoading(false);\n        }\n      } else {\n        setUserData(null);\n        setLoading(false);\n      }\n    });\n    return () => unsubscribe();\n  }, []);\n  return {\n    userData,\n    loading\n  };\n};\n_s(UserProfile, \"Q/bN2hINckB+VINYSZfns3MkAk8=\");\n_c = UserProfile;\nexport default UserProfile;\nvar _c;\n$RefreshReg$(_c, \"UserProfile\");","map":{"version":3,"names":["React","useEffect","useState","auth","db","doc","getDoc","UserProfile","_s","userData","setUserData","unsubscribe","onAuthStateChanged","user","userRef","uid","docSnap","exists","data","console","log","error","setLoading","loading","_c","$RefreshReg$"],"sources":["C:/Users/Asus/OneDrive/เอกสาร/GitHub/ABGS-Website-project/src/Database/Profiledb.js"],"sourcesContent":["import React ,{useEffect , useState}from \"react\"\r\nimport { auth,db } from \"../Auth/firebase\";\r\nimport { doc, getDoc } from \"firebase/firestore\";\r\n\r\nconst UserProfile = () => {\r\n    const [userData, setUserData] = useState(null);\r\n  \r\n    useEffect(() => {\r\n      const unsubscribe = auth.onAuthStateChanged(async (user) => {\r\n        if (user) {\r\n          try {\r\n            const userRef = doc(db, \"users\", user.uid);\r\n            const docSnap = await getDoc(userRef);\r\n  \r\n            if (docSnap.exists()) {\r\n              setUserData(docSnap.data());\r\n            } else {\r\n              console.log(\"No such document!\");\r\n            }\r\n          } catch (error) {\r\n            console.error(\"Error fetching user data: \", error);\r\n          } finally {\r\n            setLoading(false);\r\n          }\r\n        } else {\r\n          setUserData(null);\r\n          setLoading(false);\r\n        }\r\n      });\r\n  \r\n      return () => unsubscribe();\r\n    }, []);\r\n  \r\n    return { userData, loading };\r\n  };\r\n  \r\n  export default UserProfile;"],"mappings":";AAAA,OAAOA,KAAK,IAAGC,SAAS,EAAGC,QAAQ,QAAM,OAAO;AAChD,SAASC,IAAI,EAACC,EAAE,QAAQ,kBAAkB;AAC1C,SAASC,GAAG,EAAEC,MAAM,QAAQ,oBAAoB;AAEhD,MAAMC,WAAW,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACtB,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGR,QAAQ,CAAC,IAAI,CAAC;EAE9CD,SAAS,CAAC,MAAM;IACd,MAAMU,WAAW,GAAGR,IAAI,CAACS,kBAAkB,CAAC,MAAOC,IAAI,IAAK;MAC1D,IAAIA,IAAI,EAAE;QACR,IAAI;UACF,MAAMC,OAAO,GAAGT,GAAG,CAACD,EAAE,EAAE,OAAO,EAAES,IAAI,CAACE,GAAG,CAAC;UAC1C,MAAMC,OAAO,GAAG,MAAMV,MAAM,CAACQ,OAAO,CAAC;UAErC,IAAIE,OAAO,CAACC,MAAM,CAAC,CAAC,EAAE;YACpBP,WAAW,CAACM,OAAO,CAACE,IAAI,CAAC,CAAC,CAAC;UAC7B,CAAC,MAAM;YACLC,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAC;UAClC;QACF,CAAC,CAAC,OAAOC,KAAK,EAAE;UACdF,OAAO,CAACE,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;QACpD,CAAC,SAAS;UACRC,UAAU,CAAC,KAAK,CAAC;QACnB;MACF,CAAC,MAAM;QACLZ,WAAW,CAAC,IAAI,CAAC;QACjBY,UAAU,CAAC,KAAK,CAAC;MACnB;IACF,CAAC,CAAC;IAEF,OAAO,MAAMX,WAAW,CAAC,CAAC;EAC5B,CAAC,EAAE,EAAE,CAAC;EAEN,OAAO;IAAEF,QAAQ;IAAEc;EAAQ,CAAC;AAC9B,CAAC;AAACf,EAAA,CA9BED,WAAW;AAAAiB,EAAA,GAAXjB,WAAW;AAgCf,eAAeA,WAAW;AAAC,IAAAiB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}