{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useEffect } from 'react';\nimport useAuth from '../'; // นำเข้า useAuth hook หรือฟังก์ชันจัดการการล็อกอิน/ล็อกเอาท์\n\nconst LogoutOnClose = () => {\n  _s();\n  const {\n    logout\n  } = useAuth(); // สมมติว่า useAuth มีฟังก์ชัน logout\n\n  useEffect(() => {\n    const handleUnload = () => {\n      // ตั้ง delay 1 ชั่วโมงก่อนทำการ logout\n      setTimeout(() => {\n        logout(); // ล็อกเอาท์ผู้ใช้หลังจาก 1 ชั่วโมง\n      }, 3600000); // 3600000 มิลลิวินาที = 1 ชั่วโมง\n    };\n    window.addEventListener('beforeunload', handleUnload);\n    return () => {\n      window.removeEventListener('beforeunload', handleUnload);\n    };\n  }, [logout]);\n  return null;\n};\n_s(LogoutOnClose, \"sX+JVTX5usyYn6uIw2ZArRx1NRk=\", false, function () {\n  return [useAuth];\n});\n_c = LogoutOnClose;\nexport default LogoutOnClose;\nvar _c;\n$RefreshReg$(_c, \"LogoutOnClose\");","map":{"version":3,"names":["React","useEffect","useAuth","LogoutOnClose","_s","logout","handleUnload","setTimeout","window","addEventListener","removeEventListener","_c","$RefreshReg$"],"sources":["C:/Users/Asus/OneDrive/เอกสาร/GitHub/ABGS-Website-project/src/LoginPage/LogoutOnClose.js"],"sourcesContent":["import React, { useEffect } from 'react';\r\nimport useAuth from '../'; // นำเข้า useAuth hook หรือฟังก์ชันจัดการการล็อกอิน/ล็อกเอาท์\r\n\r\nconst LogoutOnClose = () => {\r\n  const { logout } = useAuth(); // สมมติว่า useAuth มีฟังก์ชัน logout\r\n\r\n  useEffect(() => {\r\n    const handleUnload = () => {\r\n      // ตั้ง delay 1 ชั่วโมงก่อนทำการ logout\r\n      setTimeout(() => {\r\n        logout(); // ล็อกเอาท์ผู้ใช้หลังจาก 1 ชั่วโมง\r\n      }, 3600000); // 3600000 มิลลิวินาที = 1 ชั่วโมง\r\n    };\r\n\r\n    window.addEventListener('beforeunload', handleUnload);\r\n\r\n    return () => {\r\n      window.removeEventListener('beforeunload', handleUnload);\r\n    };\r\n  }, [logout]);\r\n\r\n  return null;\r\n};\r\n\r\nexport default LogoutOnClose;\r\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,OAAOC,OAAO,MAAM,KAAK,CAAC,CAAC;;AAE3B,MAAMC,aAAa,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC1B,MAAM;IAAEC;EAAO,CAAC,GAAGH,OAAO,CAAC,CAAC,CAAC,CAAC;;EAE9BD,SAAS,CAAC,MAAM;IACd,MAAMK,YAAY,GAAGA,CAAA,KAAM;MACzB;MACAC,UAAU,CAAC,MAAM;QACfF,MAAM,CAAC,CAAC,CAAC,CAAC;MACZ,CAAC,EAAE,OAAO,CAAC,CAAC,CAAC;IACf,CAAC;IAEDG,MAAM,CAACC,gBAAgB,CAAC,cAAc,EAAEH,YAAY,CAAC;IAErD,OAAO,MAAM;MACXE,MAAM,CAACE,mBAAmB,CAAC,cAAc,EAAEJ,YAAY,CAAC;IAC1D,CAAC;EACH,CAAC,EAAE,CAACD,MAAM,CAAC,CAAC;EAEZ,OAAO,IAAI;AACb,CAAC;AAACD,EAAA,CAnBID,aAAa;EAAA,QACED,OAAO;AAAA;AAAAS,EAAA,GADtBR,aAAa;AAqBnB,eAAeA,aAAa;AAAC,IAAAQ,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}